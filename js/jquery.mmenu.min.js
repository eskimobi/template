/*	
 *	jQuery mmenu 2.2.3
 *	
 *	Copyright (c) 2013 Fred Heusschen
 *	www.frebsite.nl
 *
 *	Dual licensed under the MIT and GPL licenses.
 *	http://en.wikipedia.org/wiki/MIT_License
 *	http://en.wikipedia.org/wiki/GNU_General_Public_License
 */


!function(a){function n(b){if("string"==typeof b)switch(b){case"top":case"right":case"bottom":case"left":b={position:b}}if("object"!=typeof b&&(b={}),"undefined"!=typeof b.addCounters&&(a.fn.mmenu.deprecated("addCounters-option","counters.add-option"),b.counters={add:b.addCounters}),"undefined"!=typeof b.closeOnClick&&(a.fn.mmenu.deprecated("closeOnClick-option","onClick.close-option"),b.onClick={close:b.closeOnClick}),"boolean"==typeof b.onClick?b.onClick={close:b.onClick}:"object"!=typeof b.onClick&&(b.onClick={}),b=a.extend(!0,{},a.fn.mmenu.defaults,b),"boolean"==typeof b.onClick.delayPageload&&(b.onClick.delayPageload=b.onClick.delayPageload?b.configuration.slideDuration:0),a.fn.mmenu.useOverflowScrollingFallback())switch(b.position){case"top":case"bottom":a.fn.mmenu.debug('position: "'+b.position+'" not possible when using the overflowScrolling-fallback.'),b.position="left"}return b}function o(){b=a(window),c=a("html"),d=a("body"),g=a(),i={page:D("page"),blocker:D("blocker"),blocking:D("blocking"),opened:D("opened"),opening:D("opening"),submenu:D("submenu"),subopen:D("subopen"),fullsubopen:D("fullsubopen"),subclose:D("subclose"),subopened:D("subopened"),subopening:D("subopening"),subtitle:D("subtitle"),selected:D("selected"),label:D("label"),noresult:D("noresult"),noresults:D("noresults"),nosubresult:D("nosubresult"),search:D("search"),counter:D("counter"),accelerated:D("accelerated"),nooverflowscrolling:D("no-overflowscrolling")},j={toggle:E("toggle"),open:E("open"),close:E("close"),search:E("search"),reset:E("reset"),keyup:E("keyup"),keydown:E("keydown"),count:E("count"),resize:E("resize"),opening:E("opening"),opened:E("opened"),closing:E("closing"),closed:E("closed"),touchstart:E("touchstart"),mousedown:E("mousedown"),click:E("click")},k={parent:F("parent"),sub:F("sub"),style:F("style"),scrollTop:F("scrollTop"),offetLeft:F("offetLeft")},a.fn.mmenu.useOverflowScrollingFallback(m)}function p(b,c){return b||(b=a("> "+c.pageNodetype,d),b.length>1&&(b=b.wrapAll("<"+c.pageNodetype+" />").parent()),b.addClass(i.page)),b}function q(b,c,d){return b.is(d.menuNodetype)||(b=a("<"+d.menuNodetype+" />").append(b)),d.clone&&(b=b.clone(!0),b.add(b.find("*")).filter("[id]").each(function(){a(this).attr("id",D(a(this).attr("id")))})),b.prependTo("body").addClass(D("").slice(0,-1)).addClass(D(c)),a("li."+d.selectedClass,b).removeClass(d.selectedClass).addClass(i.selected),a("li."+d.labelClass,b).removeClass(d.labelClass).addClass(i.label),b}function r(b,c,d){b.addClass(D(c)),a("ul ul",b).addClass(i.submenu).each(function(b){var e=a(this),f=e.parent(),g=f.find("> a, > span"),h=f.parent(),j=e.attr("id")||D("s"+d+"-"+b);e.data(k.parent,f),f.data(k.sub,e),e.attr("id",j);var l=a('<a class="'+i.subopen+'" href="#'+j+'" />').insertBefore(g);if(g.is("a")||l.addClass(i.fullsubopen),"horizontal"==c){var j=h.attr("id")||D("p"+d+"-"+b);h.attr("id",j),e.prepend('<li class="'+i.subtitle+'"><a class="'+i.subclose+'" href="#'+j+'">'+g.text()+"</a></li>")}}),"horizontal"==c?(a("li."+i.selected,b).parents("li."+i.selected).removeClass(i.selected).end().each(function(){var b=a(this),c=b.find("> ul");c.length&&(b.parent().addClass(i.subopened).addClass(i.subopening),c.addClass(i.opened))}).parent().addClass(i.opened).parents("ul").addClass(i.subopened).addClass(i.subopening),a("ul."+i.opened,b).length||a("ul",b).not("."+i.submenu).addClass(i.opened),a("ul ul",b).appendTo(b)):a("li."+i.selected,b).addClass(i.opened).parents("."+i.selected).removeClass(i.selected)}function s(b,c){return b||(b=a('<div id="'+i.blocker+'" />').appendTo(d)),C(b,function(){c.trigger(j.close)},!0,!0),b}function t(b,d){if(d.close){var f=a("a",b).not("."+i.subopen).not("."+i.subclose);C(f,function(){var e=a(this),g=e.attr("href");b.trigger(j.close),f.parent().removeClass(i.selected),e.parent().addClass(i.selected),d.blockUI&&"#"!=g.slice(0,1)&&c.addClass(i.blocking),"#"!=g&&setTimeout(function(){window.location.href=g},d.delayPageload)})}}function u(b,c,d){var e=b.attr("id");e&&e.length&&C('a[href="#'+e+'"]',function(){b.trigger(j.toggle)});var e=c.attr("id");e&&e.length&&C('a[href="#'+e+'"]',function(){b.trigger(j.close)}),d?(C(a("a."+i.subopen,b),function(){var b=a(this).parent().data(k.sub);b&&b.trigger(j.open)}),C(a("a."+i.subclose,b),function(){a(this).parent().parent().trigger(j.close)})):C(a("a."+i.subopen,b),function(){var b=a(this).parent().data(k.sub);b&&b.trigger(j.toggle)})}function v(a,d,f){var h=A();g.not(a).trigger(j.close),e.data(k.style,e.attr("style")||"").data(k.scrollTop,h).data(k.offetLeft,e.offset().left);var l=0;return b.off(j.resize).on(j.resize,function(){var c=b.width();c!=l&&(l=c,e.width(c-e.data(k.offetLeft)))}).trigger(j.resize),f.preventTabbing&&b.off(j.keydown).on(j.keydown,function(a){return 9==a.keyCode?(a.preventDefault(),!1):void 0}),a.addClass(i.opened),f.hardwareAcceleration&&c.addClass(i.accelerated),c.addClass(i.opened).addClass(D(d.position)),e.scrollTop(h),setTimeout(function(){B(e,function(){a.trigger(j.opened)},f.slideDuration),c.addClass(i.opening),a.trigger(j.opening)},10),"open"}function w(a,d,f){return B(e,function(){a.removeClass(i.opened),c.removeClass(i.opened).removeClass(D(d.position)).removeClass(i.accelerated),e.attr("style",e.data(k.style)),b.off(j.resize),h&&h.scrollTop(e.data(k.scrollTop)),a.trigger(j.closed)},f.slideDuration),c.removeClass(i.opening),b.off(j.keydown),a.trigger(j.closing),"close"}function x(a){if(a.hasClass(i.opened))return!1;d.scrollTop(0),c.scrollTop(0),a.removeClass(i.subopening).addClass(i.opened);var e=a.data(k.parent);return e&&e.parent().addClass(i.subopening),"open"}function y(a,b,c){if(!a.hasClass(i.opened))return!1;B(b,function(){a.removeClass(i.opened)},c.configuration.slideDuration);var d=a.data(k.parent);return d&&d.parent().removeClass(i.subopening),"close"}function z(a){switch(a){case 9:case 16:case 17:case 18:case 37:case 38:case 39:case 40:return!0}return!1}function A(){return h||(0!=c.scrollTop()?h=c:0!=d.scrollTop()&&(h=d)),h?h.scrollTop():0}function B(b,c,d){a.fn.mmenu.support.transition?b.one("transitionend",c):setTimeout(c,d)}function C(b,c,d,e){"string"==typeof b&&(b=a(b));var f=d?a.fn.mmenu.support.touch?j.touchstart:j.mousedown:j.click;e||b.off(f),b.on(f,function(a){a.preventDefault(),a.stopPropagation(),c.call(this,a)})}function D(a){return"mmenu-"+a}function E(a){return a+".mmenu"}function F(a){return"mmenu-"+a}var i,j,k,b=null,c=null,d=null,e=null,f=null,g=null,h=null;a.fn.mmenu=function(c){return b||o(),c=n(c),this.each(function(){var b=a(this),d=!1,h=c.slidingSubmenus?"horizontal":"vertical";g=g.add(b),l++,e=p(e,c.configuration),f=s(f,b,c.configuration),b=q(b,c.position,c.configuration),r(b,h,l),t(b,c.onClick,c.configuration),u(b,e,c.slidingSubmenus),a.fn.mmenu.counters(b,c.counters,c.configuration),a.fn.mmenu.search(b,c.searchfield);var k=b.find("ul");b.add(k).off(j.toggle+" "+j.open+" "+j.close).on(j.toggle+" "+j.open+" "+j.close,function(a){a.preventDefault(),a.stopPropagation()}),b.on(j.toggle,function(){return b.triggerHandler(d?j.close:j.open)}).on(j.open,function(a){return d?(a.stopImmediatePropagation(),!1):(d=!0,v(b,c,c.configuration))}).on(j.close,function(a){return d?(d=!1,w(b,c,c.configuration)):(a.stopImmediatePropagation(),!1)}),"horizontal"==h?k.on(j.toggle,function(){return a(this).triggerHandler(j.open)}).on(j.open,function(){return x(a(this),c)}).on(j.close,function(){return y(a(this),b,c)}):k.on(j.toggle,function(){var c=a(this);return c.triggerHandler(c.parent().hasClass(i.opened)?j.close:j.open)}).on(j.open,function(){return a(this).parent().addClass(i.opened),"open"}).on(j.close,function(){return a(this).parent().removeClass(i.opened),"close"})})},a.fn.mmenu.defaults={position:"left",slidingSubmenus:!0,onClick:{close:!0,delayPageload:!0,blockUI:!1},configuration:{preventTabbing:!0,hardwareAcceleration:!0,selectedClass:"Selected",labelClass:"Label",counterClass:"Counter",pageNodetype:"div",menuNodetype:"nav",slideDuration:500}},a.fn.mmenu.search=function(b,c){if("boolean"==typeof c?c={add:c,search:c}:"string"==typeof search&&(c={add:!0,search:!0,placeholder:c}),"object"!=typeof c&&(c={}),c=a.extend(!0,{},a.fn.mmenu.search.defaults,c),c.add){var d=a('<div class="'+i.search+'" />').prependTo(b);d.append('<input placeholder="'+c.placeholder+'" type="text" autocomplete="off" />'),c.noResults&&a("ul",b).not("."+i.submenu).append('<li class="'+i.noresults+'">'+c.noResults+"</li>")}if(c.search){var d=a("div."+i.search,b),e=a("input",d),f=a("li."+i.label,b),g=a("em."+i.counter,b),h=a("li",b).not("."+i.subtitle).not("."+i.label).not("."+i.noresults),l="> a";c.showLinksOnly||(l+=", > span"),e.off(j.keyup).on(j.keyup,function(a){z(a.keyCode)||e.trigger(j.search)}),b.off(j.reset+" "+j.search).on(j.reset+" "+j.search,function(a){a.preventDefault(),a.stopPropagation()}).on(j.reset,function(){e.val(""),b.trigger(j.search)}).on(j.search,function(c,d){"string"==typeof d?e.val(d):d=e.val().toLowerCase(),h.add(f).addClass(i.noresult),h.each(function(){var b=a(this);a(l,b).text().toLowerCase().indexOf(d)>-1&&b.add(b.prevAll("."+i.label).first()).removeClass(i.noresult)}),a(a("ul."+i.submenu,b).get().reverse()).each(function(){var b=a(this),c=b.data(k.parent),e=(b.attr("id"),b.find("li").not("."+i.subtitle).not("."+i.label).not("."+i.noresult));e.length?c&&c.removeClass(i.noresult).removeClass(i.nosubresult).prevAll("."+i.label).first().removeClass(i.noresult):(b.trigger(j.close),c&&c.addClass(i.nosubresult))}),b[h.not("."+i.noresult).length?"removeClass":"addClass"](i.noresults),g.trigger(j.count)})}},a.fn.mmenu.search.defaults={add:!1,search:!0,showLinksOnly:!0,placeholder:"Search",noResults:"No results found."},a.fn.mmenu.counters=function(b,c,d){"boolean"==typeof c&&(c={add:c,count:c}),"object"!=typeof c&&(c={}),c=a.extend(!0,{},a.fn.mmenu.counters.defaults,c),a("em."+d.counterClass,b).removeClass(d.counterClass).addClass(i.counter),c.add&&a("."+i.submenu,b).each(function(){var c=a(this),d=c.attr("id");if(d&&d.length){var e=a('<em class="'+i.counter+'" />'),f=a("a."+i.subopen,b).filter('[href="#'+d+'"]');f.parent().find("em."+i.counter).length||f.before(e)}}),c.count&&a("em."+i.counter,b).each(function(){var c=a(this),d=a("ul"+c.next().attr("href"),b);c.off(j.count).on(j.count,function(a){a.preventDefault(),a.stopPropagation();var b=d.children().not("."+i.label).not("."+i.subtitle).not("."+i.noresult).not("."+i.noresults);c.html(b.length)})}).trigger(j.count)},a.fn.mmenu.counters.defaults={add:!1,count:!0},a.fn.mmenu.useOverflowScrollingFallback=function(a){return c?("boolean"==typeof a&&c[a?"addClass":"removeClass"](i.nooverflowscrolling),c.hasClass(i.nooverflowscrolling)):(m=a,a)},a.fn.mmenu.support={touch:function(){return"ontouchstart"in window.document}(),overflowscrolling:function(){return"WebkitOverflowScrolling"in window.document.documentElement.style}(),oldAndroid:function(){var a=navigator.userAgent;return a.indexOf("Android")>=0?2.4>parseFloat(a.slice(a.indexOf("Android")+8)):!1}(),transition:function(){return"transition"in document.createElement("p").style}()},a.fn.mmenu.debug=function(a){"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log("MMENU: "+a)},a.fn.mmenu.deprecated=function(a,b){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&console.warn("MMENU: "+a+" is deprecated, use "+b+" instead.")};var l=0,m=a.fn.mmenu.support.touch&&!a.fn.mmenu.support.overflowscrolling}(jQuery);